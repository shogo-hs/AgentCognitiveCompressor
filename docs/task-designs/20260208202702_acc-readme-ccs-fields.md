# タスク設計書: README への CCS 構成項目説明追加

最終更新: 2026-02-08
- ステータス: 完了(done)
- 作成者: Codex
- レビュー: shogohasegawa
- 対象コンポーネント: docs
- 関連: `README.md`, `src/acc/domain/value_objects/ccs.py`, `docs/task-designs/20260208201045_acc-human-readable-overview.md`
- チケット/リンク: 該当なし

## 0. TL;DR
- 既存 README には ACC の概要はあるが、CCS の内訳フィールドが未記載で中身を追いにくい。
- `README.md` に「CCS の構成項目」節を追加し、9フィールドを1行ずつ説明する。
- 既存の起動・API・テスト導線は変更しない。
- 変更はドキュメントのみで、実装挙動には影響しない。

## 1. 背景 / 課題
- 依頼者から「CCS がどんな項目で構成されるかを README に記載してほしい」と要望があった。
- 現在は `CCS` という用語説明はあるが、具体的フィールド（`episodic_trace` など）が README にない。
- そのため UI で見える項目と実際の内部状態の差分を理解しづらい。

## 2. ゴール / 非ゴール
### 2.1 ゴール
- README で CCS の9項目を確認できる状態にする。
- 各項目の役割を日本語で簡潔に説明する。
- 初見読者が「ACC が何を保持して次ターンに渡すか」を把握できるようにする。

### 2.2 非ゴール
- CCS スキーマや実装コードの変更。
- API レスポンス項目の追加。
- 詳細仕様書（docs/api 等）の改訂。

## 3. スコープ / 影響範囲
- 変更対象: `README.md`
- 影響範囲: ドキュメントの理解導線。
- 互換性: 破壊的変更なし（文書更新のみ）。
- 依存関係: `src/acc/domain/value_objects/ccs.py` に定義されたフィールド。

## 4. 要件
### 4.1 機能要件
- README に `CCS の構成項目` 節を追加する。
- 次の9項目を漏れなく記載する。
  - `episodic_trace`
  - `semantic_gist`
  - `focal_entities`
  - `relational_map`
  - `goal_orientation`
  - `constraints`
  - `predictive_cue`
  - `uncertainty_signal`
  - `retrieved_artifacts`
- 各項目に「何を保持するか」を1行説明する。

### 4.2 非機能要件 / 制約
- 日本語で簡潔に書く。
- 既存セクション構成を大きく崩さない。
- README 全体の可読性を損ねない（過度な長文化を避ける）。

## 5. 仕様 / 設計
### 5.1 全体方針
- 既存 `## 3. 主要用語` の直後に `## 4. CCS の構成項目` を追加する。
- 表形式で `項目名 / 意味` を示し、用途を短文で説明する。
- 以降セクションは番号を1つ繰り下げる。

### 5.2 変更点一覧
| 対象 | 変更内容 | 影響 | 備考 |
| --- | --- | --- | --- |
| `README.md` | CCS 9項目説明の節を追加 | 初見理解の向上 | 実装変更なし |
| `README.md` | 後続見出し番号の更新 | 可読性維持 | 内容の意味は同一 |

### 5.3 詳細
#### API
- 該当なし。

#### UI
- 該当なし。

#### データモデル / 永続化
- 該当なし（説明対象は既存データモデル）。

#### 設定 / 環境変数
- 該当なし。

### 5.4 代替案と不採用理由
- 代替案A: README には書かず `docs/architecture` のみで説明する。
  - 不採用理由: 人間向け入口が README であるため、導線不足が解消しない。
- 代替案B: 項目名だけ列挙し意味は省略する。
  - 不採用理由: 「どんな項目で構成されるか」の理解に不十分。

## 6. 移行 / ロールアウト
- ドキュメント更新のみのため段階的移行は不要。
- ロールバック条件: 追記で README の可読性が低下した場合。
- ロールバック手順: 追加節を削除し、前版の構成に戻す。

## 7. テスト計画
- 単体: 該当なし。
- 結合: 該当なし。
- 手動: README を読み、CCS 9項目と各意味が読み取れることを確認。
- LLM/外部依存: 該当なし。
- 合格条件: 依頼者が README 上で CCS 構成項目を把握できること。

## 8. 受け入れ基準
- README に CCS 構成項目の節がある。
- 9フィールドが漏れなく記載されている。
- 各項目の説明が1行以上あり、意味が判別できる。
- 既存のセットアップ・起動・テスト手順は維持されている。

## 9. リスク / 対策
- リスク: README が長くなり読みづらくなる。
- 対策: 表形式で要点のみ記載し、詳細は既存コードへの参照に留める。
- リスク: 実装と記載項目の不一致。
- 対策: `src/acc/domain/value_objects/ccs.py` の定義と突き合わせて反映する。

## 10. オープン事項 / 要確認
- なし。

## 11. 実装タスクリスト
- [x] `README.md` に CCS 構成項目節を追加
- [x] 見出し番号を更新
- [x] 9項目の漏れチェック
- [x] 説明文の簡潔性チェック

## 12. ドキュメント更新
- [x] `docs/task-designs/20260208202702_acc-readme-ccs-fields.md`
- [x] `README.md`
- [ ] `AGENTS.md`（必要に応じて）

## 13. 承認ログ
- 承認者: shogohasegawa
- 承認日時: 2026-02-08 20:28
- 承認コメント: OK

## 実装開始条件
- [x] ステータスが `承認済み(approved)` である
- [x] 10. オープン事項が空である
- [x] 受け入れ基準とテスト計画に合意済み
